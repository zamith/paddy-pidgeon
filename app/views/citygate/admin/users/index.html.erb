<h1><%= t('admin.users.index.title') %></h1>

<table class='list'>
  <thead>
    <tr>
      <th><%= t('admin.users.fields.email') %></th>
      <th><%= t('admin.users.fields.first_name') %></th>
      <th><%= t('admin.users.fields.last_name') %></th>
      <th><%= t('admin.users.fields.role') %></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= link_to truncate(user.email, length: 25), admin_user_path(user) %></td>
        <td><%= user.first_name %></td>
        <td><%= user.last_name %></td>
        <td><%= (user.role) ? user.role.name : t('admin.users.fields.no_role') %></td>
        <td>
          <i class='icon-pencil'></i><%= link_to t('admin.actions.edit'), edit_admin_user_path(user) %>
          <i class='icon-trash'></i><%= link_to t('admin.actions.delete'), admin_user_path(user), confirm: t('admin.actions.confirm'), :method => :delete, class: 'danger' if can? :update, user %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= will_paginate @users %>
